# Cannon Game - A 3D Cannon Shooter

## Description

This application is a 3D game where the player controls a cannon and shoots balls to destroy targets. The game physics are managed using **Cannon.js**, and visual effects are created with **THREE.js** and the **Shader Particle Engine** (SPE).

The game features a difficulty system with different levels of gravity, shooting speed, and ammo limits. The player can control the direction and angle of the cannon to hit targets.

## Features

- **3D Cannon**: Controlled by mouse movement.
- **Realistic Physics**: Utilizes Cannon.js for collision and gravity simulation.
- **Ammo System**: Number of shots is limited by difficulty level.
- **Visual Effects**: Explosion and smoke particles generated by the Shader Particle Engine.
- **Difficulty Levels**: Three difficulty settings (Easy, Normal, Hard), with adjustments to shooting speed, gravity, and ammo count.
- **Performance Control**: The amount of particles and physics are managed for optimal performance.

## Installation

To run the application locally, follow these steps:

1. Clone the repository:
   ```bash
   [git clone https://github.com/nitsuboy/comp-graf-ap2.git]
2. Install dependencies:
   `npm install`
3. Run the application:
   `npm start`
   
## Instructions for Installing Dependencies and Running the Project

1. Ensure you have Node.js installed on your machine.
2. Navigate to the project directory in your terminal.
3. Run `npm install` to install the required dependencies listed in `package.json`.
4. Open `src/index.html` in a web browser to run the game.

# Dependencies

This application uses the following libraries:
* THREE.js
* Cannon.js
* Shader Particle Engine (SPE)
* GLTFLoader

# Code Structure

## Cannon.js
The main class managing the cannon and ball shooting is the `Cannon` class. It is responsible for:
* Loading the 3D model of the cannon and the ball.
* Managing the cannon's movement based on the mouse.
* Handling the shooting mechanics and ball physics using **Cannon.js**.
* Managing explosion and smoke visual effects after a shot.

## Main Functions
* `create(scene)`: Creates the 3D cannon and reference ball, adding them to the scene.
* `updateRefereceBallPosition(scene, event)`: Updates the reference ball's position based on mouse direction.
* `shot(scene, world, event)`: Executes the ball shot, creating the physics body and adding particle effects.
* `setDifficulty(difficulty)`: Sets the difficulty level (Easy, Normal, Hard) with different parameters for speed and gravity.
* `animateExplosion()`: Updates the explosion and smoke animation.
* `animateBalls()`: Updates the position and rotation of balls based on physics.

## Visual Effects
Explosion and smoke effects are generated using **Shader Particle Engine (SPE)**, with fire, flash, and smoke particles.

## Ammo Counter
The available ammo is displayed on the screen. The ammo count depends on the selected difficulty level.

# How to Play
* The cannon is controlled by moving the mouse left/right (rotation) and up/down (shooting angle).
* Click to shoot.
* Depending on the difficulty level, ammo is limited.
* The objective is to hit the targets or score as many hits as possible before running out of ammo.

# Customization
* **Difficulty**: You can change the difficulty by modifying the `difficulty` variable in the `Cannon` class. Available options are:
   * `easy`: Lower shooting speed, lower gravity, and infinite ammo.
   * `normal`: Medium speed, standard gravity, and up to 10 bullets.
   * `hard`: High speed, high gravity, and only 5 bullets.
